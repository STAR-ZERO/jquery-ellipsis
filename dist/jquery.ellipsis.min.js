/*! jQuery ellipsis - v1.1.1 - 2015-02-26
* https://github.com/STAR-ZERO/jquery-ellipsis
* Copyright (c) 2015 Kenji Abe; Licensed MIT */
!function(a){var b=0,c={init:function(d,e){var f={row:1,onlyFullWords:!1,"char":"...",callback:function(){},position:"tail"};return d=a.extend(f,d),void 0===e&&(e=this),a(e).each(function(){var e=b++,f=a(this),g=f.text(),h=g,i=h.length,j=f.height();f.text("a");var k=parseFloat(f.css("lineHeight"),10),l=f.height(),m=k>l?k-l:0,n=m*(d.row-1)+l*d.row;if(n>=j)return f.text(g),void d.callback.call(this);var o=1,p=0,q=g.length;if("tail"===d.position){for(;q>o;)p=Math.ceil((o+q)/2),f.text(g.slice(0,p)+d["char"]),f.height()<=n?o=p:q=p-1;g=g.slice(0,o),d.onlyFullWords&&(g=g.replace(/[\u00AD\w\uac00-\ud7af]+$/,"")),g+=d["char"]}else if("middle"===d.position){for(var r=0;q>o;)p=Math.ceil((o+q)/2),r=Math.max(i-p,0),f.text(h.slice(0,Math.floor((i-r)/2))+d["char"]+h.slice(Math.floor((i+r)/2),i)),f.height()<=n?o=p:q=p-1;r=Math.max(i-o,0);var s=h.slice(0,Math.floor((i-r)/2)),t=h.slice(Math.floor((i+r)/2),i);d.onlyFullWords&&(s=s.replace(/[\u00AD\w\uac00-\ud7af]+$/,"")),g=s+d["char"]+t}f.text(g),f.data("ellipsis",{counter:e,options:d,origText:h}),a(window).on("resize.ellipsis-"+e,function(){c.update(f)}),d.callback.call(this)})},update:function(b){return void 0===b&&(b=this),a(b).each(function(){var b=a(this);c.destroy(this),c.init(b.data("ellipsis").options,this)})},destroy:function(b){return void 0===b&&(b=this),a(b).each(function(){var b=a(this);a(this).text(b.data("ellipsis").origText),a(window).off(".ellipsis-"+b.data("ellipsis").counter)})}};a.fn.ellipsis=function(b){return c[b]?c[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?void a.error("invalid method call!"):c.init.apply(this,arguments)}}(jQuery);